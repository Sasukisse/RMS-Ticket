/* CreateTickets/style.css — base design pour tout le module RMS */
:root {
  --bg-start:#0f172a; --bg-end:#1e293b;
  --glass-bg:rgba(255,255,255,0.08);
  --glass-stroke:rgba(255,255,255,0.18);
  --text:#e5e7eb; --muted:#94a3b8;
  --primary:#6366f1; --primary-strong:#4f46e5;
  --danger:#ef4444; --success:#10b981; --warning:#f59e0b;
  --input-bg:rgba(255,255,255,0.06); --input-border:rgba(255,255,255,0.2);
  --shadow-strong:0 20px 50px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.06);
  --radius:16px;
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  color:var(--text);
  background:
    radial-gradient(1200px 800px at 20% 10%, #1f2937 0%, transparent 60%),
    radial-gradient(1000px 600px at 80% 90%, #111827 0%, transparent 60%),
    linear-gradient(135deg, var(--bg-start), var(--bg-end));
  min-height:100vh; overflow-x:hidden;
}
.noise{position:fixed;inset:0;pointer-events:none;mix-blend-mode:soft-light;z-index:0;
  background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="300" viewBox="0 0 300 300"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.035"/></svg>');
}

/* NAVBAR (commune) */
.navbar{
  position:fixed;top:0;left:0;right:0;z-index:1000;
  background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06)) padding-box,
             linear-gradient(180deg, var(--glass-stroke), transparent) border-box;
  border-bottom:1px solid transparent;
  backdrop-filter:blur(16px) saturate(120%); -webkit-backdrop-filter:blur(16px) saturate(120%);
  box-shadow:0 8px 32px rgba(0,0,0,.3);
}
.nav-container{max-width:1200px;margin:0 auto;padding:0 2rem;height:70px;
  display:flex;align-items:center;justify-content:space-between}
.nav-brand{display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit}
.brand-logo{width:40px;height:40px;display:grid;place-items:center;border-radius:10px;
  background:conic-gradient(from 160deg, #22d3ee, #a78bfa, #6366f1, #22d3ee);
  box-shadow:0 10px 30px rgba(99,102,241,.4)}
.brand-logo span{font-weight:700;color:#fff;text-shadow:0 1px 6px rgba(0,0,0,.25);font-size:18px}
.brand-text{font-size:20px;font-weight:600;letter-spacing:.3px}
.nav-menu{display:flex;align-items:center;gap:2rem}
.nav-link{color:var(--text);text-decoration:none;font-weight:600;padding:8px 16px;border-radius:12px;transition:.2s}
.nav-link:hover{background:var(--glass-bg);color:var(--primary)}
.nav-link.active{background:var(--glass-bg);color:var(--primary)}

/* LAYOUT */
.main-content{margin-top:70px;min-height:calc(100vh - 70px);display:flex;align-items:center;justify-content:center;padding:2rem}
.form-container{width:100%;max-width:700px}
.form-card{
  background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06)) padding-box,
             linear-gradient(180deg, var(--glass-stroke), transparent) border-box;
  border:1px solid transparent;border-radius:var(--radius);padding:2.5rem;
  box-shadow:var(--shadow-strong);backdrop-filter:blur(16px) saturate(120%);-webkit-backdrop-filter:blur(16px) saturate(120%);
  position:relative;z-index:1
}
.form-header{text-align:center;margin-bottom:2rem}
.form-header h1{
  font-size:2rem;font-weight:700;margin-bottom:.5rem;
  background:linear-gradient(135deg,#e5e7eb 0%,#6366f1 50%,#a78bfa 100%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text
}
.form-subtitle{color:var(--muted);font-size:1rem}

/* ALERTS */
.alert{display:flex;align-items:center;gap:.75rem;padding:1rem 1.25rem;border-radius:12px;margin-bottom:1.5rem;font-weight:500}
.alert.success{background:rgba(16,185,129,.15);border:1px solid rgba(16,185,129,.3);color:#10b981}
.alert.error{background:rgba(239,68,68,.15);border:1px solid rgba(239,68,68,.3);color:#ef4444}

/* FORM */
.ticket-form{display:grid;gap:1.5rem}
.user-info{display:grid;grid-template-columns:1fr 1fr;gap:1rem;padding:1.5rem;background:rgba(255,255,255,.03);border-radius:12px;border:1px solid rgba(255,255,255,.1)}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
.field{display:grid;gap:.5rem}
label{font-weight:500;color:var(--text);font-size:.875rem}
.required{color:var(--danger)}
input,textarea,select{
  width:100%;padding:12px 16px;border-radius:12px;border:1px solid var(--input-border);
  background:var(--input-bg);color:var(--text);font-size:.9rem;outline:none;transition:.2s
}
.input-error{border-color: rgba(239,68,68,.7) !important; box-shadow: 0 0 0 4px rgba(239,68,68,.15) !important;}
input::placeholder,textarea::placeholder{color:var(--muted)}
input:focus,textarea:focus,select:focus{border-color:rgba(99,102,241,.6);background:rgba(99,102,241,.08);box-shadow:0 0 0 4px rgba(99,102,241,.15)}
input:disabled{opacity:.6;cursor:not-allowed}
textarea:disabled{opacity:.6;cursor:not-allowed}
textarea{resize:vertical;min-height:120px;font-family:inherit}
.char-counter{text-align:right;font-size:.75rem;color:var(--muted);margin-top:.25rem}
.error-hint{margin-top:.25rem;color:#ef4444;font-size:.85rem;min-height:1em}

/* ===== SELECT natif stylé (propre & sombre) ===== */
.form-card select{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  color-scheme: dark;                /* force un menu sombre compatible */
  height:48px;
  padding:12px 44px 12px 16px;       /* place pour la flèche */
  border-radius:12px;
  border:1px solid var(--input-border);
  background:var(--input-bg);
  color:var(--text);
  font-size:.95rem;
  font-weight:600;
  transition:border-color .2s, box-shadow .2s, background .2s;

  /* flèche custom */
  background-image:url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%23a78bfa' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
  background-repeat:no-repeat;
  background-position:right 12px center;
  background-size:18px;
}
.form-card select::-ms-expand{display:none} /* ancien IE/Edge */

.form-card select:focus{
  border-color: var(--primary);
  background: rgba(99,102,241,.06);
  box-shadow: 0 0 0 6px rgba(99,102,241,.06);
  outline: none;
}

/* Liste d'options — supporté par Chrome/Edge/Firefox récents */
.form-card select option{
  background:#0f172a;   /* fond sombre du popup */
  color:#e5e7eb;        /* texte lisible */
}
.form-card select option[disabled]{ /* placeholder si visible */
  color:#94a3b8;
}
.form-card select option:checked{
  background:linear-gradient(90deg, rgba(99,102,241,.25), rgba(79,70,229,.18));
  color:#ffffff;
}
/* (Firefox) garder un texte net dans le bouton */
@-moz-document url-prefix() {
  .form-card select:-moz-focusring {
    color: transparent; text-shadow: 0 0 0 var(--text);
  }
}

/* Radios */
.radio-group{display:grid;gap:.75rem}
.radio-option{display:flex;align-items:flex-start;gap:.75rem;padding:1rem;border:1px solid var(--input-border);border-radius:12px;background:var(--input-bg);cursor:pointer;transition:.2s}
.radio-option:hover{border-color:rgba(255,255,255,.3);background:rgba(255,255,255,.08)}
.radio-option input[type="radio"]{display:none}
.radio-custom{width:20px;height:20px;border:2px solid var(--input-border);border-radius:50%;position:relative;transition:.2s;flex-shrink:0;margin-top:.125rem}
.radio-option input[type="radio"]:checked + .radio-custom{border-color:var(--primary);background:var(--primary)}
.radio-option input[type="radio"]:checked + .radio-custom::after{
  content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:8px;height:8px;background:#fff;border-radius:50%}
.radio-content{display:grid;gap:.25rem}
.radio-content small{color:var(--muted);font-size:.75rem}

/* Bouton principal */
.submit-btn{display:flex;align-items:center;justify-content:center;gap:.5rem;width:100%;padding:14px 24px;border:none;border-radius:12px;
  background:linear-gradient(135deg,var(--primary),var(--primary-strong));color:#fff;font-weight:600;font-size:1rem;letter-spacing:.2px;
  cursor:pointer;box-shadow:0 10px 25px rgba(79,70,229,.35);transition:.2s;margin-top:1rem}
.submit-btn:hover:not(:disabled){filter:brightness(1.05);box-shadow:0 12px 30px rgba(79,70,229,.45);transform:translateY(-1px)}
.submit-btn:active:not(:disabled){transform:translateY(1px)}
.submit-btn:disabled{opacity:.6;cursor:not-allowed;transform:none}

/* Responsive */
@media (max-width:768px){
  .nav-container{padding:0 1rem;flex-direction:column;height:auto;padding-top:1rem;padding-bottom:1rem}
  .nav-menu{margin-top:1rem;gap:1rem;flex-wrap:wrap;justify-content:center}
  .main-content{margin-top:120px;padding:1rem}
  .form-card{padding:1.5rem}
  .user-info,.form-row{grid-template-columns:1fr}
  .form-header h1{font-size:1.5rem}
}
@media (max-width:480px){.form-card{padding:1rem}}

/* ===== Dropdown custom pour <select> Catégorie ===== */
.enhanced-select {
  position: relative;
  width: 100%;
}
/* cache FORT le select natif dans le composant custom */
.enhanced-select > select.es-native-hidden{
  position: absolute !important;
  left: 0 !important; top: 0 !important;
  width: 0 !important; height: 0 !important;
  opacity: 0 !important;
  pointer-events: none !important;
  margin: 0 !important; padding: 0 !important;
  border: 0 !important;
  clip: rect(0 0 0 0) !important;
  clip-path: inset(50%) !important;
  overflow: hidden !important;
  white-space: nowrap !important;
  z-index: -1 !important;  /* passe derrière tout */
}


.es-btn {
  width: 100%;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .75rem;
  padding: 12px 16px;
  border-radius: 12px;
  border: 1px solid var(--input-border);
  background: var(--input-bg);
  color: var(--text);
  font-size: .95rem;
  font-weight: 600;
  cursor: pointer;
  transition: border-color .2s, box-shadow .2s, background .2s, transform .06s;
}
.es-btn:hover { border-color: rgba(255,255,255,.28); background: rgba(255,255,255,.08); }
.es-btn:focus-visible { outline: none; border-color: var(--primary); box-shadow: 0 0 0 6px rgba(99,102,241,.06); }
.es-btn:active { transform: translateY(1px); }

.es-caret {
  width: 18px; height: 18px; flex: 0 0 18px; opacity: .9;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%23a78bfa' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
  background-repeat: no-repeat; background-position: center; transition: transform .18s ease;
}
.es-open .es-caret { transform: rotate(180deg); }

.es-panel {
  position: absolute; left: 0; right: 0; top: calc(100% + 8px);
  background: linear-gradient(180deg, rgba(15,23,42,.98), rgba(17,24,39,.98));
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 12px;
  box-shadow: 0 18px 50px rgba(0,0,0,.55);
  padding: 6px;
  max-height: 280px; overflow: auto;
  z-index: 40;
  transform: translateY(6px); opacity: 0; pointer-events: none;
  transition: transform .16s ease, opacity .16s ease;
}
.es-open .es-panel { transform: translateY(0); opacity: 1; pointer-events: auto; }

.es-item {
  display: flex; align-items: center; gap: .6rem;
  padding: 10px 10px; border-radius: 10px;
  color: var(--text); font-weight: 600; cursor: pointer;
}
.es-item[aria-disabled="true"] { opacity: .55; cursor: not-allowed; }
.es-item:hover:not([aria-disabled="true"]),
.es-item[aria-selected="true"] {
  background: linear-gradient(90deg, rgba(99,102,241,.12), rgba(79,70,229,.08));
}
.es-emoji{
  width: 1.05rem;
  display: inline-block;
  text-align: center;
  font-family: "Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji", emoji;
  font-size: 1.05rem;
  line-height: 1;
}


/* Cacher visuellement le select natif mais le garder dans le formulaire */
.es-native-hidden {
  position: absolute !important;
  width: 1px; height: 1px; padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0 0 0 0); white-space: nowrap; border: 0;
}

/* Cache FORT le select natif (évite tout chevauchement de texte) */
.enhanced-select > select.es-native-hidden,
#category.es-native-hidden{
  position: absolute !important;
  left: 0 !important; top: 0 !important;
  width: 0 !important; height: 0 !important;
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
  margin: 0 !important; padding: 0 !important; border: 0 !important;
  clip: rect(0 0 0 0) !important;
  clip-path: inset(50%) !important;
  overflow: hidden !important;
  white-space: nowrap !important;
  z-index: -1 !important;
}

